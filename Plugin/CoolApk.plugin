#!name = é…·å®‰
#!desc = è¿‡æ»¤é…·å®‰å¹¿å‘Š
#!openUrl = https://apps.apple.com/app/id1422581869
#!author = RuCu6[https://github.com/RuCu6], ZenmoFeiShi[https://github.com/ZenmoFeiShi], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag = å»å¹¿å‘Š
#!system = 
#!system_version = 
#!loon_version = 3.2.9(837)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/CoolApk.png
#!date = 2025-03-21 23:00

# 2025-03-05 00:42:23
# https://kelee.one/Tool/Loon/Plugin/CoolApk_remove_ads.plugin
# 2024-07-19 00:45
# https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/KuAn.snippet

[Rewrite]
^https:\/\/api\.coolapk\.com\/v6\/search\?.*type=hotSearch reject-dict

^https:\/\/api\.coolapk\.com\/v6\/?:feed\/detail response-body-json-jq '.data.hotReplyRows |= (select(. != null) | map(select(.id))) | .data.topReplyRows |= (select(. != null) | map(select(.id))) | .data.detailSponsorCard = [] | .data.include_goods = [] | .data.include_goods_ids = []'

^https:\/\/api\.coolapk\.com\/v6\/feed\/replyList response-body-json-jq '.data |= map(select(.id))'

^https:\/\/api\.coolapk\.com\/v6\/page\/dataList response-body-json-jq '.data |= map(select(.title != "é…·å®‰çƒ­æœ" and .entityTemplate != "imageScaleCard" and .entityTemplate != "sponsorCard"))'

^https:\/\/api\.coolapk\.com\/v6\/main\/dataList response-body-json-jq '.data |= map(select(.entityTemplate != "sponsorCard" and .title != "ç²¾é€‰é…ä»¶"))'

^https:\/\/api\.coolapk\.com\/v6\/main\/indexV8 response-body-json-jq '.data |= map(select(.entityTemplate != "sponsorCard" and .entityId != 8639 and .entityId != 29349 and .entityId != 33006 and .entityId != 32557 and (.title | contains("å€¼å¾—ä¹°") | not) and (.title | contains("çº¢åŒ…") | not)))'

^https:\/\/api\.coolapk\.com\/v6\/main\/init response-body-json-jq '.data |= map(select(.entityId != 944 and .entityId != 945 and .entityId != 6390)) | .data |= map(if .entityId == 20131 then .entities |= map(select(.title != "é…·å“")) else . end)'

[Script]
# å¯è‰ğŸ…¥
# http-response ^https:\/\/api\.coolapk\.com\/v6\/(?:feed\/detail|feed\/replyList|page\/dataList|main\/dataList|main\/indexV8|main\/init) script-path = https://kelee.one/Resource/Script/CoolApk/CoolApk_remove_ads.js, requires-body = true, tag = ç§»é™¤é…·å®‰å¹¿å‘Š

# ZenmoFeiShi
http-response ^https:\/\/api\.coolapk\.com\/v6\/main\/init script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/KuAn.js, requires-body = true, tag = ç§»é™¤é…·å®‰å¹¿å‘Š
http-response ^https:\/\/api\.coolapk\.com\/v6\/main\/indexV8 script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/KuAn.js, requires-body = true, tag = ç§»é™¤é…·å®‰å¹¿å‘Š
http-response ^https:\/\/api\.coolapk\.com\/v6\/page\/dataList script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/KuAn.js, requires-body = true, tag = ç§»é™¤é…·å®‰å¹¿å‘Š
http-response ^https:\/\/api\.coolapk\.com\/v6\/account\/loadConfig\?key=my_page_card_config script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/KuAn.js, requires-body = true, tag = ç§»é™¤é…·å®‰å¹¿å‘Š

[MitM]
hostname = api.coolapk.com