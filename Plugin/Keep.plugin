#!name = Keep
#!desc = è¿‡æ»¤Keepå¹¿å‘Š
#!openUrl = https://apps.apple.com/app/id952694580
#!author = å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md], ZenmoFeiShi[https://github.com/ZenmoFeiShi]
#!tag = å»å¹¿å‘Š
#!system = 
#!system_version = 
#!loon_version = 3.3.0(853)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/Keep.png
#!date = 2025-04-17 11:00

# 2025-05-13 15:17:08
# https://kelee.one/Tool/Loon/Plugin/Keep_remove_ads.plugin

[Rewrite]
# æœç´¢å¡«å……è¯
^https:\/\/api\.gotokeep\.com\/search\/v\d\/default\/keyword\/list reject-dict
^https:\/\/api\.gotokeep\.com\/search\/v\d\/(?:hotHashtag|hotCourse|hotword)\/list reject-dict

# å…³æ³¨ - å…³æ³¨æ¨è
^https:\/\/api\.gotokeep\.com\/twins\/v4\/feed\/followPage response-body-json-replace data {}

# ä¿¡æ¯æµæ¨å¹¿
^https:\/\/api\.gotokeep\.com\/op-engine-webapp\/v\d\/ad\/preload reject-dict
^https:\/\/kad\.gotokeep\.com\/op-engine-webapp\/v\d\/ad reject-dict

# æ–‡ç« ç›¸å…³æ¨è
^https:\/\/api\.gotokeep\.com\/twins\/v4\/feed\/entryDetail response-body-json-replace data {}

# å¼¹çª—
^https:\/\/api\.gotokeep\.com\/guide-webapp\/v1\/popup\/getPopUp reject-dict

# æ¶ˆæ¯
^https:\/\/api\.gotokeep\.com\/messenger\/v\d\/conversations\/unread reject-dict

# ç§»é™¤é¦–é¡µæ´»åŠ¨æ ‡ç­¾
^https:\/\/api\.gotokeep\.com\/config\/v3\/basic response-body-json-jq '.data.homeTabs |= map(select(.name != "æ´»åŠ¨")) | .data.homeTabs[1].default = true | .data.homeTabs[2].default = false'

[Script]
# ç§»é™¤æˆ‘çš„é¡µé¢å¹¿å‘Š
http-response ^https:\/\/api\.gotokeep\.com\/athena\/v\d\/people\/my script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Keep.js, requires-body = true, tag = [Keep]ç§»é™¤æˆ‘çš„é¡µé¢å¹¿å‘Š

# ç§»é™¤é¦–é¡µæ´»åŠ¨æ ‡ç­¾
http-response ^https:\/\/api\.gotokeep\.com\/config\/v\d\/basic script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Keep.js, requires-body = true, tag = [Keep]ç§»é™¤é¦–é¡µæ´»åŠ¨æ ‡ç­¾

[MitM]
hostname = api.gotokeep.com, kad.gotokeep.com