#!name = Keep
#!desc = è¿‡æ»¤Keepå¹¿å‘Š
#!openUrl = https://apps.apple.com/app/id952694580
#!author = å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md], ZenmoFeiShi[https://github.com/ZenmoFeiShi]
#!tag = å»å¹¿å‘Š
#!system = 
#!system_version = 
#!loon_version = 3.2.6(821)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/Keep.png
#!date = 2025-03-05 10:45

# 2025-03-05 08:57:39
# https://kelee.one/Tool/Loon/Plugin/Keep_remove_ads.plugin

[Rule]
# æ‹¦æˆªHTTPDNS
DOMAIN, httpdns.n.netease.com, REJECT
DOMAIN, httpdns.calorietech.com, REJECT

# æ‹¦æˆªå¹¿å‘Šä¸‹å‘
DOMAIN, hc-ssp.sm.cn, REJECT

# è…¾è®¯
DOMAIN, adsmind.gdtimg.com, REJECT
DOMAIN, adsmind.ugdtimg.com, REJECT
DOMAIN, c2.gdt.qq.com, REJECT
DOMAIN, huatuocode.huatuo.qq.com, REJECT
DOMAIN, info4.video.qq.com, REJECT
DOMAIN, info6.video.qq.com, REJECT
DOMAIN, ios.bugly.qq.com, REJECT
DOMAIN, pro.bugly.qq.com, REJECT
DOMAIN, ios.video.mpush.qq.com, REJECT
# DOMAIN, mazu.m.qq.com, REJECT // è¯¯æ€
DOMAIN, us.l.qq.com, REJECT
DOMAIN, mi.gdt.qq.com, REJECT
DOMAIN, otheve.beacon.qq.com, REJECT
DOMAIN, pgdt.gtimg.cn, REJECT
DOMAIN, pgdt.ugdtimg.com, REJECT
# DOMAIN, qzonestyle.gtimg.cn, REJECT // è¯¯æ€
DOMAIN, qzs.gdtimg.com, REJECT
DOMAIN, qzs.qq.com, REJECT
DOMAIN, rmonitor.qq.com, REJECT
DOMAIN, sdk.e.qq.com, REJECT
DOMAIN, sdkconfig.video.qq.com, REJECT
DOMAIN, t.gdt.qq.com, REJECT
DOMAIN, tmead.y.qq.com, REJECT
DOMAIN, tmeadbak.y.qq.com, REJECT
DOMAIN, tmeadcomm.y.qq.com, REJECT
DOMAIN, tpns.qq.com, REJECT
DOMAIN, v.gdt.qq.com, REJECT
DOMAIN, v2.gdt.qq.com, REJECT
DOMAIN, win.gdt.qq.com, REJECT
DOMAIN, wup.imtt.qq.com, REJECT
DOMAIN, tpstelemetry.tencent.com, REJECT
DOMAIN, ii.gdt.qq.com, REJECT
DOMAIN-KEYWORD, trace.qq.com, REJECT
DOMAIN-KEYWORD, trace.video.qq.com, REJECT
DOMAIN-SUFFIX, gdt.qq.com, REJECT
DOMAIN-SUFFIX, l.qq.com, REJECT
DOMAIN-SUFFIX, ugdtimg.com, REJECT
IP-CIDR, 47.110.187.87/32, REJECT, no-resolve

[Rewrite]
# æœç´¢å¡«å……è¯
^https:\/\/api\.gotokeep\.com\/search\/v\d\/default\/keyword\/list reject-dict
^https:\/\/api\.gotokeep\.com\/search\/v\d\/(?:hotHashtag|hotCourse|hotword)\/list reject-dict

# å…³æ³¨ - å…³æ³¨æ¨è
^https:\/\/api\.gotokeep\.com\/twins\/v4\/feed\/followPage response-body-json-replace data {}

# ä¿¡æ¯æµæ¨å¹¿
^https:\/\/api\.gotokeep\.com\/op-engine-webapp\/v\d\/ad\/preload reject-dict
^https:\/\/kad\.gotokeep\.com\/op-engine-webapp\/v\d\/ad reject-dict

# æ–‡ç« ç›¸å…³æ¨è
^https:\/\/api\.gotokeep\.com\/twins\/v4\/feed\/entryDetail response-body-json-replace data {}

# å¼¹çª—
^https:\/\/api\.gotokeep\.com\/guide-webapp\/v1\/popup\/getPopUp reject-dict

# æ¶ˆæ¯
^https:\/\/api\.gotokeep\.com\/messenger\/v\d\/conversations\/unread reject-dict

# ç§»é™¤é¦–é¡µæ´»åŠ¨æ ‡ç­¾
^https:\/\/api\.gotokeep\.com\/config\/v3\/basic response-body-json-jq '.data.homeTabs |= map(select(.name != "æ´»åŠ¨")) | .data.homeTabs[1].default = true | .data.homeTabs[2].default = false'

[Script]
# ç§»é™¤æˆ‘çš„é¡µé¢å¹¿å‘Š
http-response ^https:\/\/api\.gotokeep\.com\/athena\/v\d\/people\/my script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Keep.js, requires-body = true, tag = ç§»é™¤æˆ‘çš„é¡µé¢å¹¿å‘Š

# ç§»é™¤é¦–é¡µæ´»åŠ¨æ ‡ç­¾
http-response ^https:\/\/api\.gotokeep\.com\/config\/v\d\/basic script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Keep.js, requires-body = true, tag = ç§»é™¤é¦–é¡µæ´»åŠ¨æ ‡ç­¾

[MitM]
hostname = api.gotokeep.com, kad.gotokeep.com