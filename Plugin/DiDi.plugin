#!name = æ»´æ»´å‡ºè¡Œ
#!desc = è¿‡æ»¤æ»´æ»´å‡ºè¡Œå¹¿å‘Š
#!openUrl = https://apps.apple.com/app/id554499054
#!author = ZenmoFeiShi[https://github.com/ZenmoFeiShi], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag = å»å¹¿å‘Š
#!system = 
#!system_version = 
#!loon_version = 3.2.6(821)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/DiDi.png
#!date = 2025-03-07 17:00

# 2025-03-06 14:59:35
# https://kelee.one/Tool/Loon/Plugin/DiDi_remove_ads.plugin
# 2025-03-07 13:36
# https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Didichuxing.snippet

[Rule]
# æ‹¦æˆªHTTPDNS
DOMAIN, hd.xiaojukeji.com, REJECT

# æ‹¦æˆªå¹¿å‘Šä¸‹å‘
DOMAIN, gwp.xiaojukeji.com, REJECT
AND, ((IP-ASN, 45090, no-resolve), (DEST-PORT, 25641), (PROTOCOL, TCP)), REJECT
AND, ((IP-ASN, 63646, no-resolve), (DEST-PORT, 25641), (PROTOCOL, TCP)), REJECT
# DOMAIN, img-ys011.didistatic.com, REJECT

[Rewrite]
^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/getMulti\? reject-dict
^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/xpget reject-dict
^https:\/\/ct\.xiaojukeji\.com\/agent\/v3\/feeds reject-dict
^https:\/\/freight\.xiaojukeji\.com\/gateway reject-dict
^https:\/\/daijia\.kuaidadi\.com:443\/gateway reject-dict
^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/mget reject-dict
^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v\d\/other\/fast reject-dict
^https:\/\/conf\.diditaxi\.com\.cn\/dynamic\/conf reject-dict
^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/slow reject-dict

^https:\/\/common\.diditaxi\.com\.cn\/common\/v\d\/usercenter\/me response-body-json-jq '.data.cards |= map(select(.title != "å¤©å¤©é¢†ç¦åˆ©" and .title != "é‡‘èæœåŠ¡" and .title != "æ›´å¤šæœåŠ¡" and .title != "ä¼ä¸šæœåŠ¡" and .title != "å®‰å…¨ä¸­å¿ƒ")) | .data.cards[] |= if .tag == "wallet" then .items |= map(select(.title == "ä¼˜æƒ åˆ¸")) | if .card_type == 4 then .bottom_items |= map(select(.title == "çœé’±å¥—é¤" or .title == "å‡ºè¡Œé‡Œç¨‹")) else . end else . end'

^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v\d\/core response-body-json-jq '.data.order_cards.nav_list_card.data |= map(select(.nav_id == "dache_anycar" or .nav_id == "driverservice" or .nav_id == "bike" or .nav_id == "carmate")) | .data.disorder_cards.bottom_nav_list.data |= map(select(.id == "v6x_home" or .id == "home_page" or .id == "user_center"))'

^https:\/\/api\.udache\.com\/gulfstream\/pre-sale\/v1\/other\/pGetSceneList response-body-json-jq '.data.scene_list |= map(select(.text != "ä¼˜æƒ å•†åŸ")) | .data.show_data[] |= (if .scene_ids then .scene_ids |= map(select(. != "scene_coupon_mall")) else . end)'

^https:\/\/conf\.diditaxi\.com\.cn\/ota\/na\/yuantu\/infoList response-body-json-jq '.data.disorder_cards.top_banner_card.data |= if .[0].T == "yuentu_top_banner" then .[1:] else . end'

^https:\/\/api\.udache\.com\/gulfstream\/passenger-center\/v2\/other\/pInTripLayout response-body-json-jq '.data.order_components |= map(select(.name != "passenger_common_casper"))'

[Script]
# http-response ^https:\/\/common\.diditaxi\.com\.cn\/common\/v\d\/usercenter\/me script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Didichuxing.js, requires-body = true, tag = ç§»é™¤æ»´æ»´å‡ºè¡Œå¹¿å‘Š

# http-response ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v\d\/core script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Didichuxing.js, requires-body = true, tag = ç§»é™¤æ»´æ»´å‡ºè¡Œå¹¿å‘Š

# http-response ^https:\/\/api\.udache\.com\/gulfstream\/pre-sale\/v1\/other\/pGetSceneList script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Didichuxing.js, requires-body = true, tag = ç§»é™¤æ»´æ»´å‡ºè¡Œå¹¿å‘Š

# http-response ^https:\/\/conf\.diditaxi\.com\.cn\/ota\/na\/yuantu\/infoList script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Didichuxing.js, requires-body = true, tag = ç§»é™¤æ»´æ»´å‡ºè¡Œå¹¿å‘Š

# http-response ^https:\/\/api\.udache\.com\/gulfstream\/passenger-center\/v2\/other\/pInTripLayout script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Didichuxing.js, requires-body = true, tag = ç§»é™¤æ»´æ»´å‡ºè¡Œå¹¿å‘Š

http-response ^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/oversea\/layout script-path = https://raw.githubusercontent.com/ZenmoFeiShi/Qx/main/Didichuxing.js, requires-body = true, tag = ç§»é™¤æ»´æ»´å‡ºè¡Œå¹¿å‘Š

[MitM]
hostname = common.diditaxi.com.cn, freight.xiaojukeji.com, daijia.kuaidadi.com, 162.14.157.*, ct.xiaojukeji.com, res.xiaojukeji.com, conf.diditaxi.com.cn, api.udache.com, 123.207.209.*, 112.53.55.225, 120.241.142.*, 120.241.143.*, 116.85.*, 139.199.240.84