#!name = äº¬ä¸œ
#!desc = 1.è¿‡æ»¤äº¬ä¸œå¹¿å‘Šï¼›2.å†å²æ¯”ä»·ä¿¡æ¯ï¼ˆä»»é€‰å…¶ä¸€å³å¯ï¼‰ï¼Œä»…æ”¯æŒäº¬ä¸œæ ‡å‡†æ¨¡å¼ï¼Œå…·ä½“é€‚ç”¨Appç‰ˆæœ¬è¯·è‡ªè¡Œæµ‹è¯•ã€‚
#!openUrl = https://apps.apple.com/app/id414245413
#!author = RuCu6[https://github.com/RuCu6], MuTu[https://github.com/githubdulong], è‹äº•ç°ç°[https://github.com/wf021325], mw418[https://github.com/mw418], å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag = å»å¹¿å‘Š
#!system = 
#!system_version = 
#!loon_version = 3.3.0(853)
#!homepage = https://github.com/sooyaaabo/Loon/blob/main/README.md
#!icon = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Icon/App-Icon/Jingdong.png
#!date = 2025-04-17 11:00

# 2024-12-29 02:12:10
# https://kelee.one/Tool/Loon/Plugin/JD_remove_ads.plugin
# 2025-04-10
# https://raw.githubusercontent.com/wf021325/qx/master/js/jd_price.js
# 2024-12-26
# https://raw.githubusercontent.com/mw418/Loon/main/script/jd_price.js
# 2025-03-20
# https://raw.githubusercontent.com/githubdulong/Script/master/Surge/jd_price2.sgmodule

[Argument]
JDPrice-TitleEmbed = switch, false, true, tag = äº¬ä¸œæ¯”ä»·-æ ‡é¢˜åµŒå…¥ç‰ˆ, desc = ç‚¹å‡»å•†å“æ ‡é¢˜å³å¯ç›´æ¥æŸ¥çœ‹åµŒå…¥å¼å†å²ä»·æ ¼
JDPrice-DetailNotify = switch, false, true, tag = äº¬ä¸œæ¯”ä»·-è¯¦æƒ…é€šçŸ¥ç‰ˆ, desc = ç‚¹å‡»å•†å“è¯¦æƒ…é¡µé€šè¿‡å¼¹çª—é€šçŸ¥æŸ¥çœ‹å†å²ä»·æ ¼
JDPrice-DetailEmbed-text = switch, false, true, tag = äº¬ä¸œæ¯”ä»·-è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆæ–‡æœ¬æ ·å¼ï¼‰, desc = ç‚¹å‡»å•†å“è¯¦æƒ…é¡µå³å¯ç›´æ¥æŸ¥çœ‹åµŒå…¥å¼å†å²ä»·æ ¼
JDPrice-DetailEmbed-table = switch, true, false, tag = äº¬ä¸œæ¯”ä»·-è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆè¡¨æ ¼æ ·å¼ï¼‰, desc = ç‚¹å‡»å•†å“è¯¦æƒ…é¡µå³å¯ç›´æ¥æŸ¥çœ‹åµŒå…¥å¼å†å²ä»·æ ¼

[Rule]
DOMAIN, dns.jd.com, REJECT
IP-CIDR, 101.124.19.122/32, REJECT, no-resolve
IP-CIDR6, 2402:db40:5100:1011::5/128, REJECT, no-resolve
URL-REGEX, "^http:\/\/\w{32}\.jddebug\.com\/diagnose\?", REJECT

[Rewrite]
^http:\/\/\w{32}\.jddebug\.com\/diagnose\? reject
^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=(?:searchBoxWord|stationPullService|uniformRecommend[06]) reject-dict
^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=lite_advertising response-body-replace-regex jdLiteAdvertisingVO  sooyaaabo

[Script]
# äº¬ä¸œ
http-response ^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=(?:deliverLayer|getTabHomeInfo|myOrderInfo|orderTrackBusiness|personinfoBusiness|start|welcomeHome) script-path = https://kelee.one/Resource/Script/JD/JD_remove_ads.js, requires-body = true, tag = ç§»é™¤äº¬ä¸œå¹¿å‘Š

# äº¬ä¸œæé€Ÿç‰ˆ
http-response ^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=lite_advertising script-path = https://raw.githubusercontent.com/sooyaaabo/Loon/main/Script/CommonScript/replace-body.js, argument = jdLiteAdvertisingVO -> sooyaaabo, requires-body = true, tag = ç§»é™¤äº¬ä¸œæé€Ÿç‰ˆå¹¿å‘Š

# äº¬ä¸œæ¯”ä»·
http-response ^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig) script-path = https://raw.githubusercontent.com/wf021325/qx/master/js/jd_price.js, requires-body = true, enable={JDPrice-TitleEmbed}, tag = äº¬ä¸œæ¯”ä»·-æ ‡é¢˜åµŒå…¥ç‰ˆ
http-request ^https:\/\/in\.m\.jd\.com\/product\/graphext\/\d+\.html script-path = https://raw.githubusercontent.com/mw418/Loon/main/script/jd_price.js, timeout = 60, enable={JDPrice-DetailNotify}, tag = äº¬ä¸œæ¯”ä»·-è¯¦æƒ…é€šçŸ¥ç‰ˆ
http-response ^https:\/\/in\.m\.jd\.com\/product\/graphext\/\d+\.html script-path = https://raw.githubusercontent.com/wf021325/qx/master/js/jd_price.js, requires-body = true, timeout = 60, enable={JDPrice-DetailEmbed-text}, tag = äº¬ä¸œæ¯”ä»·-è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆæ–‡æœ¬æ ·å¼ï¼‰
http-response ^https:\/\/in\.m\.jd\.com\/product\/graphext\/\d+\.html script-path = https://raw.githubusercontent.com/githubdulong/Script/master/jd_price.js, requires-body = true, timeout = 60, enable={JDPrice-DetailEmbed-table}, tag = äº¬ä¸œæ¯”ä»·-è¯¦æƒ…åµŒå…¥ç‰ˆï¼ˆè¡¨æ ¼æ ·å¼ï¼‰

[MitM]
hostname = api.m.jd.com, in.m.jd.com